digraph G {
graph [size="7.5,10",ratio="fill"];
node [fontname = "Helvetica",fontsize="12"];
/* signatures */
node [fontname = "Courier", shape = "plaintext" ]; 
 module_sig [label="signature MODULE"];
 module_pp [label="signature MODULE_PP"];

 algebraic_ast [label="type output =\l   AlgebraicAst.module list"];
 algol_ast     [label="type output =\l   AlgolAst.module list"];
 oo_ast        [label="type output =\l   OOAst.module list"];

translate_sig [label="signature TRANSLATE\l where ..."];
 format_ast  [label="type output =\l  FormatAst.module list"];
 xml_dtd_ast [label="type output =\l  XMLDTDAst.module list"];

module_translate_sig [label="signature MODULE_TRANSLATOR"];
/* functors */
node [fontname = "Helvetica", shape = "diamond" ]; 

 source_pp [label="functor mkSourceFileTranslate"];
 translate [label="functor mkTranslateFromTranslator"];
 translate_algebraic [label="functor mkAlgebraicModuleTranslator"];
 translate_algol [label="functor mkAlgolModuleTranslator"];
 translate_oo [label="functor mkOOModuleTranslator"];

node [fontname = "Helvetica", shape = "box" ]; 
/* structs */
  module [label="structure Module"];

  translate_format [label="structure FormatTranslator"];
  translate_xml_dtd [label="structure XMLDTDTranslator"];

node [shape = "box"];
ml_pp [label="structure MLPP"];
haskell_pp [label="structure HaskellPP"];
java_pp [label="structure JavaPP "];
c_plus_plus_pp [label="structure CPlusPlusPP "];
node [shape = "box"];
ansic_pp [label="structure AnsicPP"];
html_pp [label="structure HTMLPP "];
xml_dtd_pp [label="structure XMLDTDPP"];


module -> module_sig 
module_sig -> translate_algebraic ->  module_translate_sig
module_sig -> translate_oo  ->   module_translate_sig
module_sig -> translate_algol ->  module_translate_sig
module_sig -> translate_format   ->   module_translate_sig 
module_sig -> translate_xml_dtd   -> module_translate_sig 


module_translate_sig -> translate -> translate_sig
translate_sig -> algebraic_ast 
translate_sig -> oo_ast
translate_sig -> algol_ast 
translate_sig -> format_ast 
translate_sig -> xml_dtd_ast

algebraic_ast -> ml_pp 
algebraic_ast -> haskell_pp 
oo_ast -> java_pp 
oo_ast -> c_plus_plus_pp
algol_ast  -> ansic_pp
format_ast -> html_pp
xml_dtd_ast -> xml_dtd_pp 

ml_pp -> module_pp
haskell_pp -> module_pp
ansic_pp -> module_pp
java_pp -> module_pp
c_plus_plus_pp -> module_pp
html_pp -> module_pp
xml_dtd_pp ->  module_pp

module_pp -> source_pp
}